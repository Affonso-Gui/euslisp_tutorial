# euslisp tutorial

## About

euslispは，
ロボットプログラミングのための様々な機能を持ったLispライク処理系です．

このチュートリアルは，
他の言語ではある程度経験があるが，
euslispについては全くの初心者に向けて記述しています．

言語仕様や一歩進んだ使い方について，より詳しく知りたい時は，
[manual]を参照してください．

ロボット工学に関する知識はロボット工学の教科書を参照してください．

[manual]: http://euslisp.github.io/jskeus/jmanual.html


## Install

[jsk_common]を利用することで，
ros, hrpsys, euslispを含む
様々なロボットプログラミングツールをインストールできます．

[jsk_common]: https://github.com/jsk-ros-pkg/jsk_common


## Basic Usage

### インタプリタ起動

euslispはインタプリタを用いて動作させることが基本です．
** rosをインストールした環境であれば，通常はroseusを使いましょう． **

- 最低限の機能を起動

```bash
eus
```

- irteus拡張 + GUIを読み込んで起動

```bash
irteusgl
```

- irteusgl + rosインタフェースを読み込んで起動

```bash
roseus
```

euslispのインタプリタはreadlineに対応していないため

- 履歴をたどることができない
- カーソルキーが使えない

という問題点があります．
これらを解決するため，emacs shellの利用を推奨しています．
emacsを起動し，`M-x shell`とすると，emacs shellが利用できます．
emacs shellの上では，`M-p`で履歴をたどれるほか，
カーソルキーで移動できる，
バッファに実行結果をためておけるなど，多数の利点があります．


### インタプリタの使い方

euslispインタプリタは
** 大小文字の区別なし，一番外側の`()`はなくても良い **
という仕様になっています．

例えば

```
(+ 1 2)
```

と

```
+ 1 2
```

は同じです．ただし，入れ子になる場合は`()`を書きましょう．

```
+ (- 3 2) 1
```

また，変数への代入は`setq`を使います．

```
(setq a (+ 1 2))
```

前回の実行結果を参照するには`*`を使いましょう．

```
(+ 1 2)
```

としたあとに，

```
(setq a *)
```

とすると，前回実行結果の`3`が代入されます．
同様に`**`で前々回，`***`で前々々回の結果を参照できます．


終了方法は`exit`です．

```
(exit)
```


### プログラムの書き方

プログラムは拡張子`.l`のファイルに記述していきます．
euslispはインタプリタに読ませるスクリプトとしてこのファイルを解釈します．
コンパイルやエントリーポイント(いわゆる`main`関数)はなく，
ファイルの中身をそのままインタプリタ上でタイプすることと同じです．

例えば，`test.l`というファイルにプログラムを記述した場合，

```bash
roseus test.l
```

としてインタプリタごと起動するか，
インタプリタを先に起動しておいて，その上で
```
(load "test.l")
```

としましょう．



